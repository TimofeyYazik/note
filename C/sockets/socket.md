Сокеты в языке программирования C представляют собой интерфейс для взаимодействия между процессами через сеть. Они позволяют приложениям отправлять и принимать данные по сети, используя различные протоколы. Вот краткий обзор различных типов сокетов и их особенностей:

1. **SOCK_STREAM (TCP)**:
    - Этот тип сокета обеспечивает надежную двустороннюю передачу данных в виде потока байтов.
    - Используется протокол TCP для установления соединения между клиентом и сервером.
    - Обеспечивает гарантии доставки данных в порядке их отправки.
2. **SOCK_DGRAM (UDP)**:
    - Этот тип сокета используется для ненадежной передачи данных.
    - Оперирует на основе протокола UDP (User Datagram Protocol).
    - Подходит для случаев, когда доставка данных в порядке их отправки не требуется, но важна скорость передачи.
3. **SOCK_RAW**:
    - Позволяет доступ к сетевым уровням, игнорируя транспортные уровни, такие как TCP и UDP.
    - Используется для создания собственных сетевых протоколов или для низкоуровневого доступа к сетевым пакетам.
    - Требует особых привилегий в большинстве операционных систем.
4. **Unicast, Multicast, Broadcast**:
    - **Unicast**: Один отправитель и один получатель. Соединение между конкретным клиентом и сервером.
    - **Multicast**: Один отправитель и несколько получателей. Используется для одновременной передачи данных нескольким узлам, подключенным к группе.
    - **Broadcast**: Один отправитель и все узлы в локальной сети. Используется для широковещательной рассылки данных, доступной всем узлам в данной сети.

Каждый из этих типов сокетов имеет свои особенности и подходит для различных сценариев использования. Важно выбирать тип сокета в зависимости от требований вашего приложения к надежности передачи данных, скорости и масштабируемости.

API сокетов в языке C обычно основывается на стандартной библиотеке POSIX (Portable Operating System Interface), которая определяет интерфейс для работы с сокетами и сетевыми соединениями. Вот основные функции и структуры, используемые при работе с сокетами:

### Структура sockaddr

```c
struct sockaddr {
    unsigned short sa_family; // семейство адресов, например AF_INET
    char sa_data[14];         // данные адреса
};

```

### Функции для создания сокета

```c
#include <sys/socket.h>

int socket(int domain, int type, int protocol);

```

- Создает новый сокет с указанными параметрами домена (domain), типом (type) и протоколом (protocol).
    
- Пример использования:
    
    ```c
    int sockfd = socket(AF_INET, SOCK_STREAM, 0);
    
    ```
    

### Функции для установления соединения (для SOCK_STREAM)

```c
#include <sys/socket.h>

int connect(int sockfd, const struct sockaddr *addr, socklen_t addrlen);

```

- Устанавливает соединение с удаленным сокетом по указанному адресу.
    
- Пример использования:
    
    ```c
    struct sockaddr_in serv_addr;
    serv_addr.sin_family = AF_INET;
    serv_addr.sin_port = htons(8080);
    inet_pton(AF_INET, "127.0.0.1", &serv_addr.sin_addr);
    
    connect(sockfd, (struct sockaddr *)&serv_addr, sizeof(serv_addr));
    
    ```
    

### Функции для отправки данных (для SOCK_STREAM и SOCK_DGRAM)

```c
#include <sys/socket.h>

ssize_t send(int sockfd, const void *buf, size_t len, int flags);

```

- Отправляет данные через сокет.
    
- Пример использования:
    
    ```c
    char buffer[1024] = "Hello, Server!";
    send(sockfd, buffer, strlen(buffer), 0);
    
    ```
    

### Функции для приема данных (для SOCK_STREAM и SOCK_DGRAM)

```c
#include <sys/socket.h>

ssize_t recv(int sockfd, void *buf, size_t len, int flags);

```

- Принимает данные через сокет.
    
- Пример использования:
    
    ```c
    char buffer[1024];
    recv(sockfd, buffer, sizeof(buffer), 0);
    
    ```
    

### Функции для управления соединением (для SOCK_STREAM)

```c
#include <sys/socket.h>

int bind(int sockfd, const struct sockaddr *addr, socklen_t addrlen);
int listen(int sockfd, int backlog);
int accept(int sockfd, struct sockaddr *addr, socklen_t *addrlen);

```

- `bind`: Привязывает сокет к адресу и порту.
- `listen`: Переводит сокет в режим прослушивания входящих соединений.
- `accept`: Принимает входящее соединение.

### Функции для закрытия сокета

```c
#include <unistd.h>

int close(int sockfd);

```

- Закрывает соединение для указанного сокета.
    
- Пример использования:
    
    ```c
    close(sockfd);
    
    ```
    

Это основные функции и структуры, которые используются при работе с сокетами в языке программирования C. Они позволяют создавать, устанавливать соединения, отправлять и принимать данные, управлять соединениями и закрывать сокеты.